ignore:
  resource_names:
      - AutomatedReasoningPolicy
      - AutomatedReasoningPolicyTestCase
      - AutomatedReasoningPolicyVersion
      - CustomModel
      - CustomModelDeployment
      - EvaluationJob
      - FoundationModelAgreement
      - Guardrail
      - GuardrailVersion
      - ModelCustomizationJob
      - PromptRouter
      - ProvisionedModelThroughput
      # - InferenceProfile
      - MarketplaceModelEndpoint
      - ModelCopyJob
      - ModelImportJob
      - ModelInvocationJob
  field_paths:
    - CreateInferenceProfileInput.ClientRequestToken

operations:
  GetInferenceProfile:
    resource_name: InferenceProfile
    custom_check_required_fields_missing_method: customCheckRequired
    operation_type:
      - ReadOne

resources:

  InferenceProfile:
    is_arn_primary_key: true
    update_operation: 
      custom_method_name: customUpdate

    fields:
      Description:
        is_immutable: true
      InferenceProfileName:
        is_immutable: true
      ModelSource:
        is_immutable: true

      InferenceProfileId:
        is_read_only: true
        from:
          operation: GetInferenceProfile
          path: InferenceProfileId

    hooks:
      sdk_read_one_post_build_request:
        template_path: hooks/inference_profile/sdk_read_one_post_build_request.go.tpl
      sdk_read_one_post_set_output:
        template_path: hooks/inference_profile/sdk_read_one_post_set_output.go.tpl
      sdk_delete_post_build_request:
        template_path: hooks/inference_profile/sdk_delete_post_build_request.go.tpl

    synced:
      when:
        - path: Status.Status
          in:
            - ACTIVE


